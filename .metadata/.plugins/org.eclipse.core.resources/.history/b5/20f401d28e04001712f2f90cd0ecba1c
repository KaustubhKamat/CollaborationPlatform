app.controller('BlogController', [ 'BlogServices', '$http', '$rootscope',
		'$location', '$scope',
		function(BlogServices, $http, $rootscope, $location, $scope) {

			$scope.message = "Message from Blog Controller"
			console.log("Starting-->BlogController")

			var self = this;
			self.blog = {
				id : '',
				title : '',
				emailId :'',
			    description : '',
				date_time : '',
				status :'',
				reason : ''			
			}

			self.blogs = [];
			
			
			var currentUser=$rootscope.currentUser;
			
			//to get all the blogs
			self.fetchAllBlogs=function(){
	        	console.log("BlogController-->Starting fetchAllBlogs function")
	        
	        	BlogServices.fetchAllBlogs().then
	        	(
	        	function(Response)
	        	{
	        		console.log("BlogController-->Ending fetchAllBlogs function")
	        		self.blogs=Response;
	        	},
	        	function(errResponse)
	        	{
	        		console.log("BlogController-->Ending fetchAllJobs function")
	        		console.log("BlogController-->The jobs are not fetched successfully")
	        	}
	        	)
			
			},
			
			//to get blog with id
			self.blogById=function(){
	        	console.log("BlogController-->Starting blogById function")
	        
	        	BlogServices.blogById(id).then
	        	(
	        	function(d)
	        	{
	        		console.log("BlogController-->Ending blogById function")
	        		self.jobs=d;
	        	},
	        	function(errResponse)
	        	{
	        		console.log("BlogController-->Ending blogById function")
	        		console.log("BlogController-->The blog with id is not fetched successfully")
	        	}
	        	)
			
			},
			
			
			//to create new blog
			self.SaveNewBlog=function(){
				console.log("BlogController-->Starting SaveNewJob function")
				
				JobServices.createNewJob(job).then(
				function(d)
				{
					console.log("jobController-->Ending CreateNewJob function")
					alert("The Job is posted successfully")
				},
				
				function(errResponse)
				{
					console.log("jobController ==> Ending createNewJob function()")

					console.log("Error while posting job,, please try again after sometime")
				}
				)
				
			},
			
			self.submit =function()
			{
				console.log("jobController ==> Starting submit function()")

				self.createNewJob(self.job);
				self.reset();
				console.log("jobController ==> Ending submit function()")

		};
			
			self.updateJob=function(){
				console.log("jobController-->Starting UpdateJob function")
				
				JobServices.updateJob(job).then(
				function(d)
				{
					console.log("jobController-->Ending updateJob function")
					alert("The Job is updated successfully with id " +id)
				},
				
				function(errResponse)
				{
					console.log("jobController ==> Ending updateJob function()")

					console.log("Error while updating job,, please try again after sometime")
				}
				)
				
			};

		} ])/**
 * 
 */