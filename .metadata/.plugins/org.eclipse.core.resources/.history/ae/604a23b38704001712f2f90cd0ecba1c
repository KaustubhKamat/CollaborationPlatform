'use strict';
 
app.service('BlogServices', ['$http','$q', '$rootScope', function($http,$q,$rootScope){
	
	console.log("Starting-->BlogService")
	
	var BASE_URL='http://localhost:8085/CollaborationPlatform/'
		
    return {
         fetchAllBlogs:function(){
        	console.log("Starting--> fetchAllBlogs function") 
        	 return $http.get(BASE_URL+'/getAllBlogs').then(
        	function(Response){
        		console.log("Ending-->getAllBlog Function")
        		return Response.data;	
        	},
        	null
        	 )
         },
         
            
            SaveNewBlog: function(blog){
            	console.log("Starting-->SaveNewJob function")
            	return $http.post(BASE_URL+'/SaveNewBlog').then(
            	function(Response){
            		console.log("Ending-->SaveNewJob Function")
            		return Response.data;
            	},
            	function(errResponse){
            		console.log("The blog is not posted. Ending the SaveNewBlog function ")
            		return $q.reject(errResponse);
            	}
            	)       	
            },
            
            
            updateJob: function(){
            	console.log("Starting--> updateJob function")
            	return $http.get(BASE_URL+'/UpdateJob',job).then(
            	function(Response){
            		console.log("Ending--> updateJob Function with success")
            		return Response.data;
            	},
            	function(errResponse){
            		console.log("Ending-->updateJob Function with errors")
            		return $sq.reject(errResponse);
            	}
            	)
            },
       
             
            rejectJobApplication: function(userID, jobID){
                    return $http.put(BASE_URL+'/rejectJobApplication/'+userID+ "/" + jobID)
                            .then(
                                    function(response){
                                        return response.data;
                                    }, 
                                    function(errResponse){
                                        console.error('Error while rejecting job');
                                        return $q.reject(errResponse);
                                    }
                            )
            },
             
            callForInterview: function(userID, jobID){
            	  return $http.put(BASE_URL+'/callForInterview/'+userID, jobID)
                            .then(
                                    function(response){
                                        return response.data;
                                    }, 
                                    function(errResponse){
                                        console.error('Error while call for interview');
                                        return $q.reject(errResponse);
                                    }
                            )
            },
            
     
    }
    
            
           
 
}]);