package com.niit.collaborationplatform;

import java.util.Date;

import org.junit.BeforeClass;
import org.junit.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;

import com.niit.collaborationPlatform.DAO.JobApplicationDAO;
import com.niit.collaborationPlatform.model.JobApplication;

import junit.framework.Assert;

public class JobApplicationDAOImplTestCase {

	@Autowired
	static JobApplication jobApplication;

	@Autowired
	static JobApplicationDAO jobApplicationDAO;

	@Autowired
	static AnnotationConfigApplicationContext context;

	@BeforeClass
	public static void init() {
		context = new AnnotationConfigApplicationContext();
		context.scan("com.niit");
		context.refresh();
		jobApplicationDAO = (JobApplicationDAO) context.getBean("jobApplicationDAOImpl");
		jobApplication = (JobApplication) context.getBean("jobApplication");
	}

	@SuppressWarnings("deprecation")
	@Test
	public void CreateJobApplicationTestCase() {
		jobApplication.setId(1);
		jobApplication.setJobId("2");
		jobApplication.setUsername("Kaustubh");
		Date date_applied = new Date();
		jobApplication.setDate_applied(date_applied);
		jobApplication.setRemarks("Valid");
		jobApplication.setStatus("Valid user");

		Assert.assertEquals("createJobApplicationTestCase", true,
				jobApplicationDAO.SaveJobApplication(jobApplication));

	}

}
