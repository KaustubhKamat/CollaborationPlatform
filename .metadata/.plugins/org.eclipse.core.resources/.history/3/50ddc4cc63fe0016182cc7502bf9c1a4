'use strict';
 
app.service('JobServices', ['$http','$q', '$rootScope', function($http,$q,$rootScope){
	
	console.log("Starting-->JobService")
	
	var BASE_URL='http://localhost:8085/CollaborationPlatform/'
		
    return {
         fetchAllJobs:function(){
        	console.log("Starting--> fetchAllJobs function") 
        	 return $http.get(BASE_URL+"/getAllJobs").then(
        	function(Response){
        		console.log("Ending-->fetchAllJobs Function")
        		return Response.data;	
        	},
        	null
        	 )
         },
         
         fetchAllOpenJobs:function(){
        	 console.log("Starting--> fetchAllOpenJobs function")
        	 return $http.get(BASE_URL+"/getAllOpenJobs").then(
        	function(Response){
        		console.log("Ending-->fetchAllOpenJobs function")
        		return Response.data;
        	}	 
        	 )
         },
            
            createNewJob: function(job){
            	console.log("Starting-->CreateNewJob function")
            	return $http.post(BASE_URL+"/createNewJob").then(
            	function(Response){
            		console.log("Ending-->CreateNewJob Function")
            		return Response.data;
            	},
            	function(errResponse){
            		console.log("The job is not posted. Ending the CreateNewJob function ")
            		return $q.reject(errResponse);
            	}
            	)       	
            },
        
        
             
            
}]);